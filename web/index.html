<!DOCTYPE html>

<!--
  Copyright (c) 2016 The Chromium Authors. All rights reserved.
  Use of this source code is governed by a BSD-style license that can be
  found in the LICENSE file.
-->

<html>
<head>
  <title>Flutter Dashboard</title>
  <link href="styles.css" rel="stylesheet">

  <script src="https://cdn.firebase.com/js/client/2.4.2/firebase.js"></script>

  <script>
  (function(w,d,s,g,js,fjs){
    g=w.gapi||(w.gapi={});g.analytics={q:[],ready:function(cb){this.q.push(cb)}};
    js=d.createElement(s);fjs=d.getElementsByTagName(s)[0];
    js.src='https://apis.google.com/js/platform.js';
    fjs.parentNode.insertBefore(js,fjs);js.onload=function(){g.load('analytics')};
  }(window,document,'script'));
  </script>
</head>
<body>
  <div id="container">
    <!-- Unable to authenticate to analytics data from our dashboard user
    <div class="card">
      <div class="card-inside">
        <div class="metric-type">7DA <span class="metric-name-wrapper">(<span class="metric-name">flutter tool</span>)</span></div>
        <div class="metric-data"><span class="metric-number"><span id="num-7da"></span></span></div>
        <div id="7da-timeline" class="metric-chart"></div>
      </div>
    </div>
    -->

    <div class="card" id="github_issues">
      <div class="card-inside">
        <div class="metric-type">Open issues <span class="metric-name-wrapper">(<span class="metric-name">Gallery</span>)</span></div>
        <div class="metric-data"><span class="metric-number"></span></div>
        <div class="days-away"><span class="days-away-number"></span> days away</div>
      </div>
    </div>
  </div>

  <div class="footer">

    <section id="auth-button"></section>
    <button id="firebase-login">Firebase Login</button>
    <button id="firebase-logout">Firebase Logout</button>
    <span class="last-updated">Last updated from Firebase: <span id="firebase-last-updated-time"></span></span>
    <span class="last-updated">Last updated from Github: <span id="github-last-updated-time"></span></span>
    <span class="last-updated">Last job ran: <span id="last-job-ran-time"></span></span>

  </div>

  <template id="__analysis_time_tmpl">
    <div class="card analysis_time from-firebase">
      <div class="card-inside">
        <div class="metric-type">Analysis time <span class="metric-name-wrapper">(<span class="metric-name"></span>)</span></div>
        <div class="metric-data"><span class="metric-number"></span><span class="metric-unit">s</span></div>
        <table class="stats-table">
          <tr>
            <td class="stats-label">Q2 goal:</td>
            <td class="stats-value"><span class="metric-target"></span>s</td>
          </tr>
        </table>
      </div>
    </div>
  </template>

  <template id="__start_up_tmpl">
    <div class="card start_up from-firebase">
      <div class="card-inside">
        <div class="metric-type">Time to first frame <span class="metric-name-wrapper">(<span class="metric-name"></span>)</span></div>
        <div class="metric-data"><span class="metric-number"></span><span class="metric-unit">ms</span></div>

        <table class="stats-table">
          <tr>
            <td class="stats-label">To framework init:</td>
            <td class="stats-value"><span class="time-to-framework-init"></span>ms</td>
          </tr>
          <tr>
            <td class="stats-label">After framework init:</td>
            <td class="stats-value"><span class="time-after-init-to-first-frame"></span>ms</td>
          </tr>
          <tr>
            <td class="stats-label">Q2 goal:</td>
            <td class="stats-value"><span class="metric-target">600</span>ms</td>
          </tr>
        </table>
      </div>
    </div>
  </template>

  <template id="__timeline_summary_tmpl">
    <div class="card timeline_summary from-firebase">
      <div class="card-inside">
        <div class="perf-test-summary-card">
        <div class="metric-type">Scroll perf <span class="metric-name-wrapper">(<span class="metric-name"></span>)</span></div>
          <div class="metric-data"><span class="metric-number"></span><span class="metric-unit"> missed</span></div>
          <!-- This box that contains aggregate numbers and declares success/failure -->
          <div style="min-width: 150px">
            <div class="metric-section">
              <span class="average_frame_build_time_millis"></span> ms avg,
              <span class="frame_count"></span> frames,
            </div>
          </div>
          <div style="display: flex; flex-direction: row">
            <!-- This box contains build times of individual frames -->
            <div class="frames" style="height: 120px">
              <div class="frame-budget-indicator" style="height: 40px">8ms</div>
              <div class="frame-60FPS-indicator" style="height: 80px">16ms</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </template>

  <!-- unable to authenticate to analytics with our dashboard user
  <script src="analytics.js"></script>
  -->
  <script src="firebase.js"></script>
  <script src="github.js"></script>

  <script src="script.js"></script>
</body>
</html>
